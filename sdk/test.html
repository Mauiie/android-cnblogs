<!DOCTYPE html>
<html>
<head>
	<title>test</title>
	<script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
	<script type="text/javascript">
		var model = function(){
			this.categoryId;
			this.parentId;
			this.name;
			this.type;
		}

		$(function () {

			log('一级分类');
			//log('----------------------------------------------');
			var parentList = new Array();

			// 首页
			var home = new model();
			home.categoryId = '808';
			home.parentId = 0;
			home.name = '首页';
			home.type = 'SiteHome';
			parentList.push(home);

			// 推荐
			var tuijian = new model();
			tuijian.categoryId = '-2';
			tuijian.parentId = 0;
			tuijian.name = '推荐';
			tuijian.type = 'Picked';

			parentList.push(tuijian);

			var count = 0;

			$('#cate_item li').each(function(i,e){
				var id = $(e).attr('id').replace('cate_item_','');
				var text = $(e).find('a').text().replace(/\(.*\)/,'').trim();
				var m = new model();
				m.categoryId = id;
				m.parentId = 0;
				m.name = text;
				m.type = 'TopSiteCategory';
				if(id == "0" || id == "-1") return;

				parentList.push(m);
				count++;
			});


 			//log(JSON.stringify(parentList));

			log('----------------------------------------------');

			var subCate = $('#cate_sub_block .cate_content_block_wrapper');

			subCate.each(function(index,e){
				var parentId = $(e).attr('id').replace('cate_content_block_','');
				$(e).find('.cate_content_block a').each(function(i,ce){
					var text = $(ce).text().replace(/\(.*\)/,'').trim();
					var href = 'http://www.cnblogs.com'+$(ce).attr('href');
					count++;

					$.get('http://api.yixiaoshipin.com',{'url': href},function(data){
						$(data.data).find("script").each(function(i,item){
							var aggSiteModel = $(item).text();
							if(aggSiteModel.indexOf('aggSiteModel')>0){
								aggSiteModel = aggSiteModel.replace('var aggSiteModel =','').replace(';','').trim();
								var category = JSON.parse(aggSiteModel);

								var m = new model();
								m.categoryId = category.CategoryId;
								m.parentId = category.ParentCategoryId;
								m.name = text;
								m.type = category.CategoryType;
								parentList.push(m);
								log(JSON.stringify(parentList));
							}
						});
					})

				});


			
			});
		});

		function log(s){
			console.log(s);
		}

		function cateShow(id){}
		function cateHidden(id){}
	</script>
</head>
<body>

<ul id="cate_item">
<li id="cate_item_108698" onmouseover="cateShow(108698)" onmouseout="cateHidden(108698)" class="">
<a href="/cate/108698/">.NET技术(7)</a>
</li>
<li id="cate_item_2" onmouseover="cateShow(2)" onmouseout="cateHidden(2)">
<a href="/cate/2/">编程语言(23)</a>
</li>
<li id="cate_item_108701" onmouseover="cateShow(108701)" onmouseout="cateHidden(108701)">
<a href="/cate/108701/">软件设计(1)</a>
</li>
<li id="cate_item_108703" onmouseover="cateShow(108703)" onmouseout="cateHidden(108703)">
<a href="/cate/108703/">Web前端(11)</a>
</li>
<li id="cate_item_108704" onmouseover="cateShow(108704)" onmouseout="cateHidden(108704)">
<a href="/cate/108704/">企业信息化(0)</a>
</li>
<li id="cate_item_108705" onmouseover="cateShow(108705)" onmouseout="cateHidden(108705)">
<a href="/cate/108705/">手机开发(7)</a>
</li>
<li id="cate_item_108709" onmouseover="cateShow(108709)" onmouseout="cateHidden(108709)">
<a href="/cate/108709/">软件工程(1)</a>
</li>
<li id="cate_item_108712" onmouseover="cateShow(108712)" onmouseout="cateHidden(108712)">
<a href="/cate/108712/">数据库技术(6)</a>
</li>
<li id="cate_item_108724" onmouseover="cateShow(108724)" onmouseout="cateHidden(108724)">
<a href="/cate/108724/">操作系统(6)</a>
</li>
<li id="cate_item_4" onmouseover="cateShow(4)" onmouseout="cateHidden(4)">
<a href="/cate/4/">其他分类(11)</a>
</li>
<li id="cate_item_0" onmouseover="cateShow(0)" onmouseout="cateHidden(0)">
<a href="/cate/all/">所有随笔(1622)</a>
</li>
<li id="cate_item_-1" onmouseover="cateShow(-1)" onmouseout="cateHidden(-1)">
<a href="/comment/">所有评论(588)</a>
</li>
</ul>

	<div id="cate_sub_block">
		<div id="cate_content_block_108698" onmouseover="cateShow(108698)" onmouseout="cateHidden(108698)"
		class="cate_content_block_wrapper" style="top: 30px; display: none;">
		<div class="cate_content_top">
		</div>
		<div class="cate_content_block">
			<ul>
				<li>
					<a href="/cate/beginner/">
						.NET新手区(0)
					</a>
				</li>
				<li>
					<a href="/cate/aspnet/">
						ASP.NET(2)
					</a>
				</li>
				<li>
					<a href="/cate/csharp/">
						C#(1)
					</a>
				</li>
				<li>
					<a href="/cate/dotnetcore/">
						.NET Core(2)
					</a>
				</li>
				<li>
					<a href="/cate/winform/">
						WinForm(0)
					</a>
				</li>
				<li>
					<a href="/cate/silverlight/">
						Silverlight(0)
					</a>
				</li>
				<li>
					<a href="/cate/wcf/">
						WCF(0)
					</a>
				</li>
				<li>
					<a href="/cate/clr/">
						CLR(0)
					</a>
				</li>
				<li>
					<a href="/cate/wpf/">
						WPF(0)
					</a>
				</li>
				<li>
					<a href="/cate/xna/">
						XNA(0)
					</a>
				</li>
				<li>
					<a href="/cate/vs2010/">
						Visual Studio(0)
					</a>
				</li>
				<li>
					<a href="/cate/mvc/">
						ASP.NET MVC(0)
					</a>
				</li>
				<li>
					<a href="/cate/control/">
						控件开发(1)
					</a>
				</li>
				<li>
					<a href="/cate/ef/">
						Entity Framework(0)
					</a>
				</li>
				<li>
					<a href="/cate/nhibernate/">
						NHibernate(0)
					</a>
				</li>
				<li>
					<a href="/cate/winrt_metro/">
						WinRT/Metro(0)
					</a>
				</li>
			</ul>
		</div>
		<div class="cate_content_bottom">
		</div>
	</div>
	<div id="cate_content_block_2" onmouseover="cateShow(2)" onmouseout="cateHidden(2)"
	class="cate_content_block_wrapper" style="top: 58px; display: none;">
	<div class="cate_content_top">
	</div>
	<div class="cate_content_block">
		<ul>
			<li>
				<a href="/cate/java/">
					Java(4)
				</a>
			</li>
			<li>
				<a href="/cate/cpp/">
					C++(0)
				</a>
			</li>
			<li>
				<a href="/cate/php/">
					PHP(1)
				</a>
			</li>
			<li>
				<a href="/cate/delphi/">
					Delphi(0)
				</a>
			</li>
			<li>
				<a href="/cate/python/">
					Python(2)
				</a>
			</li>
			<li>
				<a href="/cate/ruby/">
					Ruby(0)
				</a>
			</li>
			<li>
				<a href="/cate/c/">
					C语言(0)
				</a>
			</li>
			<li>
				<a href="/cate/erlang/">
					Erlang(0)
				</a>
			</li>
			<li>
				<a href="/cate/go/">
					Go(1)
				</a>
			</li>
			<li>
				<a href="/cate/swift/">
					Swift(0)
				</a>
			</li>
			<li>
				<a href="/cate/scala/">
					Scala(0)
				</a>
			</li>
			<li>
				<a href="/cate/r/">
					R语言(0)
				</a>
			</li>
			<li>
				<a href="/cate/verilog/">
					Verilog(0)
				</a>
			</li>
			<li>
				<a href="/cate/otherlang/">
					其它语言(0)
				</a>
			</li>
		</ul>
	</div>
	<div class="cate_content_bottom">
	</div>
</div>
<div id="cate_content_block_108701" onmouseover="cateShow(108701)" onmouseout="cateHidden(108701)"
class="cate_content_block_wrapper" style="top: 86px; display: none;">
<div class="cate_content_top">
</div>
<div class="cate_content_block">
	<ul>
		<li>
			<a href="/cate/design/">
				架构设计(0)
			</a>
		</li>
		<li>
			<a href="/cate/108702/">
				面向对象(0)
			</a>
		</li>
		<li>
			<a href="/cate/dp/">
				设计模式(0)
			</a>
		</li>
		<li>
			<a href="/cate/ddd/">
				领域驱动设计(0)
			</a>
		</li>
	</ul>
</div>
<div class="cate_content_bottom">
</div>
</div>
<div id="cate_content_block_108703" onmouseover="cateShow(108703)" onmouseout="cateHidden(108703)"
class="cate_content_block_wrapper" style="top: 114px; display: none;">
<div class="cate_content_top">
</div>
<div class="cate_content_block">
	<ul>
		<li>
			<a href="/cate/web/">
				Html/Css(1)
			</a>
		</li>
		<li>
			<a href="/cate/javascript/">
				JavaScript(2)
			</a>
		</li>
		<li>
			<a href="/cate/jquery/">
				jQuery(1)
			</a>
		</li>
		<li>
			<a href="/cate/html5/">
				HTML5(1)
			</a>
		</li>
	</ul>
</div>
<div class="cate_content_bottom">
</div>
</div>
<div id="cate_content_block_108704" onmouseover="cateShow(108704)" onmouseout="cateHidden(108704)"
class="cate_content_block_wrapper" style="top: 142px; display: none;">
<div class="cate_content_top">
</div>
<div class="cate_content_block">
	<ul>
		<li>
			<a href="/cate/sharepoint/">
				SharePoint(0)
			</a>
		</li>
		<li>
			<a href="/cate/gis/">
				GIS技术(0)
			</a>
		</li>
		<li>
			<a href="/cate/sap/">
				SAP(0)
			</a>
		</li>
		<li>
			<a href="/cate/OracleERP/">
				Oracle ERP(0)
			</a>
		</li>
		<li>
			<a href="/cate/dynamics/">
				Dynamics CRM(0)
			</a>
		</li>
		<li>
			<a href="/cate/k2/">
				K2 BPM(0)
			</a>
		</li>
		<li>
			<a href="/cate/infosec/">
				信息安全(0)
			</a>
		</li>
		<li>
			<a href="/cate/3/">
				企业信息化其他(0)
			</a>
		</li>
	</ul>
</div>
<div class="cate_content_bottom">
</div>
</div>
<div id="cate_content_block_108705" onmouseover="cateShow(108705)" onmouseout="cateHidden(108705)"
class="cate_content_block_wrapper" style="top: 170px; display: none;">
<div class="cate_content_top">
</div>
<div class="cate_content_block">
	<ul>
		<li>
			<a href="/cate/android/">
				Android开发(1)
			</a>
		</li>
		<li>
			<a href="/cate/ios/">
				iOS开发(0)
			</a>
		</li>
		<li>
			<a href="/cate/wp/">
				Windows Phone(0)
			</a>
		</li>
		<li>
			<a href="/cate/wm/">
				Windows Mobile(0)
			</a>
		</li>
		<li>
			<a href="/cate/mobile/">
				其他手机开发(0)
			</a>
		</li>
	</ul>
</div>
<div class="cate_content_bottom">
</div>
</div>
<div id="cate_content_block_108709" onmouseover="cateShow(108709)" onmouseout="cateHidden(108709)"
class="cate_content_block_wrapper" style="top:198px">
<div class="cate_content_top">
</div>
<div class="cate_content_block">
	<ul>
		<li>
			<a href="/cate/agile/">
				敏捷开发(0)
			</a>
		</li>
		<li>
			<a href="/cate/pm/">
				项目与团队管理(1)
			</a>
		</li>
		<li>
			<a href="/cate/Engineering/">
				软件工程其他(0)
			</a>
		</li>
	</ul>
</div>
<div class="cate_content_bottom">
</div>
</div>
<div id="cate_content_block_108712" onmouseover="cateShow(108712)" onmouseout="cateHidden(108712)"
class="cate_content_block_wrapper" style="top:226px">
<div class="cate_content_top">
</div>
<div class="cate_content_block">
	<ul>
		<li>
			<a href="/cate/sqlserver/">
				SQL Server(1)
			</a>
		</li>
		<li>
			<a href="/cate/oracle/">
				Oracle(2)
			</a>
		</li>
		<li>
			<a href="/cate/mysql/">
				MySQL(2)
			</a>
		</li>
		<li>
			<a href="/cate/nosql/">
				NoSQL(0)
			</a>
		</li>
		<li>
			<a href="/cate/bigdata/">
				大数据(1)
			</a>
		</li>
		<li>
			<a href="/cate/database/">
				其它数据库(0)
			</a>
		</li>
	</ul>
</div>
<div class="cate_content_bottom">
</div>
</div>
<div id="cate_content_block_108724" onmouseover="cateShow(108724)" onmouseout="cateHidden(108724)"
class="cate_content_block_wrapper" style="top:254px">
<div class="cate_content_top">
</div>
<div class="cate_content_block">
	<ul>
		<li>
			<a href="/cate/win7/">
				Windows(1)
			</a>
		</li>
		<li>
			<a href="/cate/winserver/">
				Windows Server(0)
			</a>
		</li>
		<li>
			<a href="/cate/linux/">
				Linux(0)
			</a>
		</li>
		<li>
			<a href="/cate/osx/">
				OS X(0)
			</a>
		</li>
		<li>
			<a href="/cate/eos/">
				嵌入式(0)
			</a>
		</li>
	</ul>
</div>
<div class="cate_content_bottom">
</div>
</div>
<div id="cate_content_block_4" onmouseover="cateShow(4)" onmouseout="cateHidden(4)"
class="cate_content_block_wrapper" style="top:282px">
<div class="cate_content_top">
</div>
<div class="cate_content_block">
	<ul>
		<li>
			<a href="/cate/life/">
				非技术区(0)
			</a>
		</li>
		<li>
			<a href="/cate/testing/">
				软件测试(0)
			</a>
		</li>
		<li>
			<a href="/cate/software/">
				代码与软件发布(0)
			</a>
		</li>
		<li>
			<a href="/cate/cg/">
				计算机图形学(1)
			</a>
		</li>
		<li>
			<a href="/cate/google/">
				Google开发(0)
			</a>
		</li>
		<li>
			<a href="/cate/gamedev/">
				游戏开发(1)
			</a>
		</li>
		<li>
			<a href="/cate/codelife/">
				程序人生(0)
			</a>
		</li>
		<li>
			<a href="/cate/job/">
				求职面试(0)
			</a>
		</li>
		<li>
			<a href="/cate/book/">
				读书区(0)
			</a>
		</li>
		<li>
			<a href="/cate/quoted/">
				转载区(0)
			</a>
		</li>
		<li>
			<a href="/cate/wince/">
				Windows CE(0)
			</a>
		</li>
		<li>
			<a href="/cate/translate/">
				翻译区(0)
			</a>
		</li>
		<li>
			<a href="/cate/opensource/">
				开源研究(0)
			</a>
		</li>
		<li>
			<a href="/cate/flex/">
				Flex(0)
			</a>
		</li>
		<li>
			<a href="/cate/cloud/">
				云计算(0)
			</a>
		</li>
		<li>
			<a href="/cate/algorithm/">
				算法与数据结构(2)
			</a>
		</li>
		<li>
			<a href="/cate/misc/">
				其他技术区(0)
			</a>
		</li>
	</ul>
</div>
<div class="cate_content_bottom">
</div>
</div>
</div>

<div id="comments_pager_top">
</div>
<!--done-->



<div id="comments_pager_top">
	<div class="pager">
		<span class="current">1</span><a href="#!comments" onclick="commentManager.renderComments(2,50);return false;">2</a><a href="#!comments" onclick="commentManager.renderComments(2,50);return false;">Next &gt;</a>
	</div>
</div>
<br>
<div class="feedback_area_title">
	评论列表
</div>
<div class="feedbackNoItems">
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568082" class="layer">#1楼</a><a name="3568082" id="comment_anchor_3568082"></a><span class="comment_date">2016-11-29 16:54</span><a id="a_comment_author_3568082" href="http://www.cnblogs.com/-linqian/" target="_blank">送给未来的自己</a><a href="http://msg.cnblogs.com/send/%E9%80%81%E7%BB%99%E6%9C%AA%E6%9D%A5%E7%9A%84%E8%87%AA%E5%B7%B1" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568082" class="blog_comment_body">
			明白 感谢分享
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568082,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568082,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568082_avatar" style="display:none;">http://pic.cnblogs.com/face/649611/20150922095609.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568137" class="layer">#2楼</a><a name="3568137" id="comment_anchor_3568137"></a><span class="comment_date">2016-11-29 17:43</span><a id="a_comment_author_3568137" href="http://www.cnblogs.com/xxcanghai/" target="_blank">小小沧海</a><a href="http://msg.cnblogs.com/send/%E5%B0%8F%E5%B0%8F%E6%B2%A7%E6%B5%B7" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568137" class="blog_comment_body">
			好文收藏
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568137,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568137,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568137_avatar" style="display:none;">http://pic.cnblogs.com/face/746158/20150417145005.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568305" class="layer">#3楼</a><a name="3568305" id="comment_anchor_3568305"></a><span class="comment_date">2016-11-29 22:18</span><a id="a_comment_author_3568305" href="http://www.cnblogs.com/kvspas/" target="_blank">梁逸晨</a><a href="http://msg.cnblogs.com/send/%E6%A2%81%E9%80%B8%E6%99%A8" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568305" class="blog_comment_body">
			楼主，我是冲着你的头像来的，几月？
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568305,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568305,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568305_avatar" style="display:none;">http://pic.cnblogs.com/face/20738/20161201171640.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568328" class="layer">#4楼</a><a name="3568328" id="comment_anchor_3568328"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-29 22:50</span><a id="a_comment_author_3568328" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568328" class="blog_comment_body">
			<a href="#3568305" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568305);">@</a> 梁逸晨<br>
			九月
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568328,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568328,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568328_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568330" class="layer">#5楼</a><a name="3568330" id="comment_anchor_3568330"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-29 22:53</span><a id="a_comment_author_3568330" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568330" class="blog_comment_body">
			<a href="#3568137" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568137);">@</a> 小小沧海<br>
			谢谢支持
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568330,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568330,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568330_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568331" class="layer">#6楼</a><a name="3568331" id="comment_anchor_3568331"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-29 22:53</span><a id="a_comment_author_3568331" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568331" class="blog_comment_body">
			<a href="#3568082" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568082);">@</a> 送给未来的自己<br>
			谢谢支持
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568331,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568331,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568331_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568338" class="layer">#7楼</a><a name="3568338" id="comment_anchor_3568338"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-29 23:01</span><a id="a_comment_author_3568338" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568338" class="blog_comment_body">
			<a href="#3568305" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568305);">@</a> 梁逸晨<br>
			登山行摄领队+程序员大神，膜拜
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568338,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568338,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568338_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568364" class="layer">#8楼</a><a name="3568364" id="comment_anchor_3568364"></a><span class="comment_date">2016-11-30 02:27</span><a id="a_comment_author_3568364" href="http://www.cnblogs.com/kvspas/" target="_blank">梁逸晨</a><a href="http://msg.cnblogs.com/send/%E6%A2%81%E9%80%B8%E6%99%A8" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568364" class="blog_comment_body">
			<a href="#3568328" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568328);">@</a> 凌承一<br>
			<fieldset class="comment_quote">
				<legend><a href="#3568328" title="查看引用原文">引用</a></legend>@<br>
				梁逸晨<br>
				九月
			</fieldset>
			<br>
			<br>
			下次再有空来找我，难得有it人士会在高原说话
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568364,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568364,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568364_avatar" style="display:none;">http://pic.cnblogs.com/face/20738/20161201171640.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568487" class="layer">#9楼</a><a name="3568487" id="comment_anchor_3568487"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-30 09:46</span><a id="a_comment_author_3568487" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568487" class="blog_comment_body">
			<a href="#3568364" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568364);">@</a> 梁逸晨<br>
			头像是14年9月拍的，今年9月我又去了一次，可惜了，等以后的机会吧！
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568487,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568487,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568487_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568634" class="layer">#10楼</a><a name="3568634" id="comment_anchor_3568634"></a><span class="comment_date">2016-11-30 11:17</span><a id="a_comment_author_3568634" href="http://www.cnblogs.com/ilahsa/" target="_blank">但用此心</a><a href="http://msg.cnblogs.com/send/%E4%BD%86%E7%94%A8%E6%AD%A4%E5%BF%83" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568634" class="blog_comment_body">
			登录系统2 后 sso 认证中心 如何判断 用户已经登录的
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568634,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568634,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568634_avatar" style="display:none;">http://pic.cnblogs.com/face/u19761.gif</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568644" class="layer">#11楼</a><a name="3568644" id="comment_anchor_3568644"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-30 11:21</span><a id="a_comment_author_3568644" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568644" class="blog_comment_body">
			<a href="#3568634" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568634);">@</a> 但用此心<br>
			登录系统1时，已经有一次跳转到sso认证中心，那个时候还输入了用户名与密码信息，sso认证中心验证用户名密码正确后，将用户与sso认证中心的会话标记为“已登录”了，之后再跳转到sso认证中心，会话当然还是“已登录”状态
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568644,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568644,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568644_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568650" class="layer">#12楼</a><a name="3568650" id="comment_anchor_3568650"></a><span class="comment_date">2016-11-30 11:23</span><a id="a_comment_author_3568650" href="http://www.cnblogs.com/jiafuwei/" target="_blank">程序人生0407</a><a href="http://msg.cnblogs.com/send/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F0407" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568650" class="blog_comment_body">
			很详细
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568650,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568650,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568650_avatar" style="display:none;">http://pic.cnblogs.com/face/731200/20161121101030.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568654" class="layer">#13楼</a><a name="3568654" id="comment_anchor_3568654"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-30 11:25</span><a id="a_comment_author_3568654" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568654" class="blog_comment_body">
			<a href="#3568650" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568650);">@</a> 程序人生0407<br>
			谢谢支持
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568654,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568654,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568654_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568662" class="layer">#14楼</a><a name="3568662" id="comment_anchor_3568662"></a><span class="comment_date">2016-11-30 11:27</span><a id="a_comment_author_3568662" href="http://www.cnblogs.com/ilahsa/" target="_blank">但用此心</a><a href="http://msg.cnblogs.com/send/%E4%BD%86%E7%94%A8%E6%AD%A4%E5%BF%83" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568662" class="blog_comment_body">
			<a href="#3568644" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568644);">@</a> 凌承一<br>
			用户直接访问系统2 的资源的时候，在客户端是未登录的状态，不带sessionid 和其他的标示，sso 认证中心如何判断是已经登录的 ， 登录系统1 的时候 sso 认证后，是不是还有1步sso 跳转到系统1 的过程，客户端302 到系统1 ，系统1 返回应答，命令客户端写系统1 的sessionid 的cookie?
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568662,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568662,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568662_avatar" style="display:none;">http://pic.cnblogs.com/face/u19761.gif</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568684" class="layer">#15楼</a><a name="3568684" id="comment_anchor_3568684"></a><span class="comment_date">2016-11-30 11:43</span><a id="a_comment_author_3568684" href="http://www.cnblogs.com/ilahsa/" target="_blank">但用此心</a><a href="http://msg.cnblogs.com/send/%E4%BD%86%E7%94%A8%E6%AD%A4%E5%BF%83" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568684" class="blog_comment_body">
			<a href="#3568644" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568644);">@</a> 凌承一<br>
			想清楚了 ，访问系统2的时候跳转到 sso 认证，客户端带上sso 认证的sessionid,根据这个id 可以定位用户 <br>
			<br>
			写的很详细 谢谢
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568684,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568684,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568684_avatar" style="display:none;">http://pic.cnblogs.com/face/u19761.gif</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568685" class="layer">#16楼</a><a name="3568685" id="comment_anchor_3568685"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-30 11:44</span><a id="a_comment_author_3568685" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568685" class="blog_comment_body">
			<a href="#3568662" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568662);">@</a> 但用此心<br>
			sso认证中心只是判断用户与它之间的会话有没有标记为“已登录”，用户与系统1、系统2之间的会话状态，sso认证中心是不管的。
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568685,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568685,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568685_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568687" class="layer">#17楼</a><a name="3568687" id="comment_anchor_3568687"></a><span class="comment_date">2016-11-30 11:47</span><a id="a_comment_author_3568687" href="http://www.cnblogs.com/xcj26/" target="_blank">Sam Xiao</a><a href="http://msg.cnblogs.com/send/Sam%20Xiao" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568687" class="blog_comment_body">
			前几天不是有一个哥们也写了 可跨域的单点登录(SSO)实现方案【附.net代码】 的博客吗？我还以为是同一个。
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568687,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568687,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568687_avatar" style="display:none;">http://pic.cnblogs.com/face/48022/20150116085345.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568694" class="layer">#18楼</a><a name="3568694" id="comment_anchor_3568694"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-30 11:51</span><a id="a_comment_author_3568694" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568694" class="blog_comment_body">
			<a href="#3568687" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568687);">@</a> Sam Xiao<br>
			哈哈，我只是简单介绍了多系统跨域登录的解决方案，源码我有，并不复杂，不过还是自己实现一遍更好
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568694,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568694,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568694_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568774" class="layer">#19楼</a><a name="3568774" id="comment_anchor_3568774"></a><span class="comment_date">2016-11-30 13:35</span><a id="a_comment_author_3568774" href="http://www.cnblogs.com/guigujun/" target="_blank">鬼谷君</a><a href="http://msg.cnblogs.com/send/%E9%AC%BC%E8%B0%B7%E5%90%9B" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568774" class="blog_comment_body">
			l不错，写的蛮详细
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568774,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568774,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568774_avatar" style="display:none;">http://pic.cnblogs.com/face/1071981/20161130110631.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568818" class="layer">#20楼</a><a name="3568818" id="comment_anchor_3568818"></a><span class="comment_date">2016-11-30 14:06</span><a id="a_comment_author_3568818" href="http://www.cnblogs.com/qtqq/" target="_blank">最爱晴天</a><a href="http://msg.cnblogs.com/send/%E6%9C%80%E7%88%B1%E6%99%B4%E5%A4%A9" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568818" class="blog_comment_body">
			关于单点撤销，按楼主的方案是不是需要预先知道其他的子站点，然后一个站点退出了， 就循环去调用其他站点提供的清除回话的方法？
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568818,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568818,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568818_avatar" style="display:none;">http://pic.cnblogs.com/face/596290/20150813112422.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568823" class="layer">#21楼</a><a name="3568823" id="comment_anchor_3568823"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-30 14:08</span><a id="a_comment_author_3568823" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568823" class="blog_comment_body">
			<a href="#3568818" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568818);">@</a> 最爱晴天<br>
			不用，单点登录过程中有一步是子站点向sso认证中心注册，注销的时候，sso认证中心取出这些注册系统地址，依次发送注销请求就行了
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568823,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568823,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568823_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568872" class="layer">#22楼</a><a name="3568872" id="comment_anchor_3568872"></a><span class="comment_date">2016-11-30 14:58</span><a id="a_comment_author_3568872" href="http://home.cnblogs.com/u/978596/" target="_blank">莹仔Ken</a><a href="http://msg.cnblogs.com/send/%E8%8E%B9%E4%BB%94Ken" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568872" class="blog_comment_body">
			你这个方法如果我用不同公司的浏览器就不行了?
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568872,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568872,'Bury',this)">反对(0)</a>
		</div>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3568883" class="layer">#23楼</a><a name="3568883" id="comment_anchor_3568883"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-11-30 15:03</span><a id="a_comment_author_3568883" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3568883" class="blog_comment_body">
			<a href="#3568872" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3568872);">@</a> 莹仔Ken<br>
			和浏览器没有关系，浏览器都实现了cookie
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3568883,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3568883,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3568883_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569011" class="layer">#24楼</a><a name="3569011" id="comment_anchor_3569011"></a><span class="comment_date">2016-11-30 16:50</span><a id="a_comment_author_3569011" href="http://www.cnblogs.com/pojianbing/" target="_blank">破剑冰</a><a href="http://msg.cnblogs.com/send/%E7%A0%B4%E5%89%91%E5%86%B0" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569011" class="blog_comment_body">
			很详细, 终于搞明白了.
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569011,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569011,'Bury',this)">反对(0)</a>
		</div>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569416" class="layer">#25楼</a><a name="3569416" id="comment_anchor_3569416"></a><span class="comment_date">2016-12-01 08:32</span><a id="a_comment_author_3569416" href="http://www.cnblogs.com/ginb/" target="_blank">gnib</a><a href="http://msg.cnblogs.com/send/gnib" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569416" class="blog_comment_body">
			mark
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569416,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569416,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569416_avatar" style="display:none;">http://pic.cnblogs.com/face/612774/20150824213110.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569423" class="layer">#26楼</a><a name="3569423" id="comment_anchor_3569423"></a><span class="comment_date">2016-12-01 08:40</span><a id="a_comment_author_3569423" href="http://www.cnblogs.com/liubiaocai/" target="_blank">刘标才</a><a href="http://msg.cnblogs.com/send/%E5%88%98%E6%A0%87%E6%89%8D" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569423" class="blog_comment_body">
			有几点不明白：<br>
			1、为什么是系统1输入用户名密码，而不在sso中直接输入呢，这样密码更安全<br>
			2、为什么拿到token后还要去sso验证是否正确呢，双方使用事先设置好的加密Key就可以保证安全了，没有必要多这一步<br>
			3、同时注销真的不知道怎么实现，难道一次可以跳转N个地址吗<br>
			<br>
			其实楼主你去看下oauth就知道了，步骤基本相同
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569423,'Digg',this)">支持(2)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569423,'Bury',this)">反对(0)</a>
		</div>comment_3569423_avatar
		<span id="" style="display:none;">http://pic.cnblogs.com/face/u36499.jpg?id=30171922</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569560" class="layer">#27楼</a><a name="3569560" id="comment_anchor_3569560"></a><span class="comment_date">2016-12-01 10:08</span><a id="a_comment_author_3569560" href="http://www.cnblogs.com/hnzhangmeiqing/" target="_blank">活在當下</a><a href="http://msg.cnblogs.com/send/%E6%B4%BB%E5%9C%A8%E7%95%B6%E4%B8%8B" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569560" class="blog_comment_body">
			如果被别人拦截到令牌，是不是就可以授权访问了？
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569560,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569560,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569560_avatar" style="display:none;">http://pic.cnblogs.com/face/u39262.jpg?id=16144336</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569565" class="layer">#28楼</a><a name="3569565" id="comment_anchor_3569565"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 10:12</span><a id="a_comment_author_3569565" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569565" class="blog_comment_body">
			<a href="#3569423" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569423);">@</a> 刘标才<br>
			系统1没有输入用户名密码，只有sso认证中心可以输入用户名密码；<br>
			sso认证中心给了子系统token，但子系统使用token前必须去sso认证中心校验token有效性，一是因为sso认证中心要登记使用了此token的子系统，二是校验的过程中sso认证中心可以对子系统的合法性校验，即使token被截获，也不会有安全问题；<br>
			注销不是用跳转来实现的，sso认证中心向所有登记过的系统发送带有“logout”参数的注销请求
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569565,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569565,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569565_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569567" class="layer">#29楼</a><a name="3569567" id="comment_anchor_3569567"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 10:13</span><a id="a_comment_author_3569567" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569567" class="blog_comment_body">
			<a href="#3569560" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569560);">@</a> 活在當下<br>
			看我28楼的回复
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569567,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569567,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569567_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569571" class="layer">#30楼</a><a name="3569571" id="comment_anchor_3569571"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 10:14</span><a id="a_comment_author_3569571" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569571" class="blog_comment_body">
			<a href="#3569423" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569423);">@</a> 刘标才<br>
			oauth和sso本质都是认证中心向子系统授权，原理一样，过程自然差不多
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569571,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569571,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569571_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569578" class="layer">#31楼</a><a name="3569578" id="comment_anchor_3569578"></a><span class="comment_date">2016-12-01 10:21</span><a id="a_comment_author_3569578" href="http://www.cnblogs.com/hnzhangmeiqing/" target="_blank">活在當下</a><a href="http://msg.cnblogs.com/send/%E6%B4%BB%E5%9C%A8%E7%95%B6%E4%B8%8B" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569578" class="blog_comment_body">
			<a href="#3569567" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569567);">@</a> 凌承一<br>
			“系统1拿到令牌，去sso认证中心校验令牌是否有效”,sso中心是怎么确认令牌有效的呢？
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569578,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569578,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569578_avatar" style="display:none;">http://pic.cnblogs.com/face/u39262.jpg?id=16144336</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569582" class="layer">#32楼</a><a name="3569582" id="comment_anchor_3569582"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 10:24</span><a id="a_comment_author_3569582" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569582" class="blog_comment_body">
			<a href="#3569578" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569578);">@</a> 活在當下<br>
			sso认证中心在用户输入正确用户名密码后创建授权令牌，存储在key-value数据库如redis中，令牌为key，令牌有效的意思就是数据库有这个key，并且还在有效期内，你知道，key-value数据库的key可以设置有效期的
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569582,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569582,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569582_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569611" class="layer">#33楼</a><a name="3569611" id="comment_anchor_3569611"></a><span class="comment_date">2016-12-01 10:46</span><a id="a_comment_author_3569611" href="http://www.cnblogs.com/hnzhangmeiqing/" target="_blank">活在當下</a><a href="http://msg.cnblogs.com/send/%E6%B4%BB%E5%9C%A8%E7%95%B6%E4%B8%8B" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569611" class="blog_comment_body">
			<a href="#3569582" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569582);">@</a> 凌承一<br>
			这个又回到我之前的问题了，如果别人截获令牌，怎么知道是不是正常的请求令牌还是被截获的，因为你是说只要判断这个键值是否在数据库中吧
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569611,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569611,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569611_avatar" style="display:none;">http://pic.cnblogs.com/face/u39262.jpg?id=16144336</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569616" class="layer">#34楼</a><a name="3569616" id="comment_anchor_3569616"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 10:51</span><a id="a_comment_author_3569616" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569616" class="blog_comment_body">
			<a href="#3569611" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569611);">@</a> 活在當下<br>
			理论上，不管谁拿到令牌，只要这个令牌有效，就是可以用的，但你拿着这个令牌去sso认证中心校验并注册的时候，sso认证中心是有一份系统白名单的，名单上的系统拿着令牌才能注册成功，其他系统sso认证中心都认为是非法的
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569616,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569616,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569616_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569626" class="layer">#35楼</a><a name="3569626" id="comment_anchor_3569626"></a><span class="comment_date">2016-12-01 10:59</span><a id="a_comment_author_3569626" href="http://www.cnblogs.com/dudu/" target="_blank">dudu</a><a href="http://msg.cnblogs.com/send/dudu" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569626" class="blog_comment_body">
			在.NET平台上有一个单点登录认证中心的开源实现（支持.NET Core） <a href="https://identityserver.io/" target="_blank">https://identityserver.io/</a>
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569626,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569626,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569626_avatar" style="display:none;">http://pic.cnblogs.com/face/1/20150530204900.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569627" class="layer">#36楼</a><a name="3569627" id="comment_anchor_3569627"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 11:00</span><a id="a_comment_author_3569627" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569627" class="blog_comment_body">
			<a href="#3569611" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569611);">@</a> 活在當下<br>
			可能你在电视上看到了很多，拿着别人令牌开门、放人等等，因为那些人只认令牌不认人，系统白名单的作用就是认人，这样令牌被盗也没关系
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569627,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569627,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569627_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569628" class="layer">#37楼</a><a name="3569628" id="comment_anchor_3569628"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 11:01</span><a id="a_comment_author_3569628" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569628" class="blog_comment_body">
			<a href="#3569626" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569626);">@</a> dudu<br>
			谢谢支持，开源sso一直不缺的
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569628,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569628,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569628_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569636" class="layer">#38楼</a><a name="3569636" id="comment_anchor_3569636"></a><span class="comment_date">2016-12-01 11:05</span><a id="a_comment_author_3569636" href="http://www.cnblogs.com/youngerliu/" target="_blank">AlanCoder</a><a href="http://msg.cnblogs.com/send/AlanCoder" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569636" class="blog_comment_body">
			<img src="http://images2015.cnblogs.com/blog/154634/201612/154634-20161201110512193-1520013145.jpg" alt="" border="0" "=""><br>
			这里 如果是跨域 怎么知道之前已经登录过了，能具体点 ?
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569636,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569636,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569636_avatar" style="display:none;">http://pic.cnblogs.com/face/154634/20130121214245.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569640" class="layer">#39楼</a><a name="3569640" id="comment_anchor_3569640"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 11:08</span><a id="a_comment_author_3569640" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569640" class="blog_comment_body">
			<a href="#3569636" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569636);">@</a> AlanCoder<br>
			我相信你再仔细看一会就明白了，图加上文字说明以及开始介绍的会话、登录机制
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569640,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569640,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569640_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569644" class="layer">#40楼</a><a name="3569644" id="comment_anchor_3569644"></a><span class="comment_date">2016-12-01 11:11</span><a id="a_comment_author_3569644" href="http://www.cnblogs.com/karascanvas/" target="_blank">KarasCanvas</a><a href="http://msg.cnblogs.com/send/KarasCanvas" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569644" class="blog_comment_body">
			jwt+oauth
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569644,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569644,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569644_avatar" style="display:none;">http://pic.cnblogs.com/face/206235/20160225211451.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569672" class="layer">#41楼</a><a name="3569672" id="comment_anchor_3569672"></a><span class="comment_date">2016-12-01 11:27</span><a id="a_comment_author_3569672" href="http://www.cnblogs.com/kingboy2008/" target="_blank">灵雨飘零</a><a href="http://msg.cnblogs.com/send/%E7%81%B5%E9%9B%A8%E9%A3%98%E9%9B%B6" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569672" class="blog_comment_body">
			mark
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569672,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569672,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569672_avatar" style="display:none;">http://pic.cnblogs.com/face/u40764.jpg?id=23091233</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569674" class="layer">#42楼</a><a name="3569674" id="comment_anchor_3569674"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 11:28</span><a id="a_comment_author_3569674" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569674" class="blog_comment_body">
			<a href="#3569644" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569644);">@</a> KarasCanvas<br>
			这就涉及到sso-client与sso-server具体通信过程和安全问题了，如果有自己独立的ca系统，jwt或者https是非常好的选择
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569674,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569674,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569674_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569691" class="layer">#43楼</a><a name="3569691" id="comment_anchor_3569691"></a><span class="comment_date">2016-12-01 11:47</span><a id="a_comment_author_3569691" href="http://www.cnblogs.com/eggTwo/" target="_blank">梦亦晓</a><a href="http://msg.cnblogs.com/send/%E6%A2%A6%E4%BA%A6%E6%99%93" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569691" class="blog_comment_body">
			site1,site2,sso认证中心的session过期时间能不能保持一致？
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569691,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569691,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569691_avatar" style="display:none;">http://pic.cnblogs.com/face/559600/20131127170112.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569698" class="layer">#44楼</a><a name="3569698" id="comment_anchor_3569698"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 11:53</span><a id="a_comment_author_3569698" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569698" class="blog_comment_body">
			<a href="#3569691" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569691);">@</a> 梦亦晓<br>
			原来你就是有人提到过的整那篇【可跨域的单点登录（sso）方案附.net代码】的淫<br>
			子系统的会话持续时间是依赖sso认证中心的会话持续时间的，因为监听器的存在。要让子系统与sso认证中心保持一致的会话持续时间，可以这么做<br>
			子系统向sso认证中心校验令牌时，sso认证中心返回这个令牌对应全局会话的剩余时间，子系统将这个时间设为局部会话的持续时间
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569698,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569698,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569698_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569706" class="layer">#45楼</a><a name="3569706" id="comment_anchor_3569706"></a><span class="comment_date">2016-12-01 12:00</span><a id="a_comment_author_3569706" href="http://www.cnblogs.com/eggTwo/" target="_blank">梦亦晓</a><a href="http://msg.cnblogs.com/send/%E6%A2%A6%E4%BA%A6%E6%99%93" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569706" class="blog_comment_body">
			<a href="#3569698" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569698);">@</a> 凌承一<br>
			session的过期时间不应该设置为滑动过期时间吗？如果登录成功后sso的过期时间设置为1分钟，site1的过期时间设置为1分钟，浏览器和site1持续交互，会导致site1会话session一直有效，而sso的会话session失效
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569706,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569706,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569706_avatar" style="display:none;">http://pic.cnblogs.com/face/559600/20131127170112.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569712" class="layer">#46楼</a><a name="3569712" id="comment_anchor_3569712"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 12:04</span><a id="a_comment_author_3569712" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569712" class="blog_comment_body">
			<a href="#3569706" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569706);">@</a> 梦亦晓<br>
			当然不会了，sso会话一旦失效，sso认证中心的会话监听器就会向所有注册子系统发出注销请求，子系统的会话也会失效，看下【三、单点登录】介绍的局部会话与全局会话的关系<br>
			实际上，子系统的会话持续时间一定不会超过sso认证中心的会话持续时间
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569712,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569712,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569712_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569731" class="layer">#47楼</a><a name="3569731" id="comment_anchor_3569731"></a><span class="comment_date">2016-12-01 12:31</span><a id="a_comment_author_3569731" href="http://www.cnblogs.com/eggTwo/" target="_blank">梦亦晓</a><a href="http://msg.cnblogs.com/send/%E6%A2%A6%E4%BA%A6%E6%99%93" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569731" class="blog_comment_body">
			<a href="#3569712" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569712);">@</a> 凌承一<br>
			如果因为用户一直在操作site1而导致site1的会话session一直有效，而sso的会话session失效。怎么能强制注销site1的session会话呢？
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569731,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569731,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569731_avatar" style="display:none;">http://pic.cnblogs.com/face/559600/20131127170112.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569735" class="layer">#48楼</a><a name="3569735" id="comment_anchor_3569735"></a>[<span class="louzhu">楼主</span>] <span class="comment_date">2016-12-01 12:33</span><a id="a_comment_author_3569735" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569735" class="blog_comment_body">
			<a href="#3569731" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569731);">@</a> 梦亦晓<br>
			sso认证中心的会话监听器，参考文章的最后一节以及单点登录的注销过程
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569735,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569735,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569735_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569738" class="layer">#49楼</a><a name="3569738" id="comment_anchor_3569738"></a><span class="comment_date">2016-12-01 12:36</span><a id="a_comment_author_3569738" href="http://www.cnblogs.com/eggTwo/" target="_blank">梦亦晓</a><a href="http://msg.cnblogs.com/send/%E6%A2%A6%E4%BA%A6%E6%99%93" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569738" class="blog_comment_body">
			我知道你是用http分发的方法注销分站的session。<br>
			而我是说不能注销site1的会话，你总不能在用户和site1交互的过程中因为没有更新sso会话的过期时间而强制注销site1的会话吧。
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569738,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569738,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569738_avatar" style="display:none;">http://pic.cnblogs.com/face/559600/20131127170112.png</span>
	</div>
</div>
<div class="feedbackItem">
	<div class="feedbackListSubtitle">
		<div class="feedbackManage">
			<span class="comment_actions"></span>
		</div>
		<a href="#3569743" class="layer">#50楼</a><a name="3569743" id="comment_anchor_3569743"></a>[<span class="louzhu">楼主</span>]<span id="comment-maxId" style="display:none;">3569743</span><span id="comment-maxDate" style="display:none;">2016/12/1 12:44:19</span><span class="comment_date">2016-12-01 12:44</span><a id="a_comment_author_3569743" href="http://www.cnblogs.com/ywlaker/" target="_blank">凌承一</a><a href="http://msg.cnblogs.com/send/%E5%87%8C%E6%89%BF%E4%B8%80" title="发送站内短消息" class="sendMsg2This"></a>
	</div>
	<div class="feedbackCon">
		<div id="comment_body_3569743" class="blog_comment_body">
			<a href="#3569738" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3569738);">@</a> 梦亦晓<br>
			授权的源头都失效了，site1怎么还能允许用户继续操作？<br>
			你是想随着用户持续访问分站，而自动延长sso认证中心的会话时间是吧，那可以为分站的会话加一个监听器，监听时间变化，然后向sso认证中心发送加长会话持续时间的请求<br>
			这样可以达到你的目的，但非常不合理，授权过程一切以sso认证中心为主，分站怎么能要求认证中心去做改变！<br>
			如果不想用户访问过程突然中断，可以加长sso认证中心的会话持续时间
		</div>
		<div class="comment_vote">
			<a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3569743,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3569743,'Bury',this)">反对(0)</a>
		</div>
		<span id="comment_3569743_avatar" style="display:none;">http://pic.cnblogs.com/face/797930/20160128170544.png</span>
	</div>
</div>
<div id="comments_pager_bottom">
	<div class="pager">
		<span class="current">1</span><a href="#!comments" onclick="commentManager.renderComments(2,50);return false;">2</a><a href="#!comments" onclick="commentManager.renderComments(2,50);return false;">Next &gt;</a>
	</div>
</div>



</body>
</html>